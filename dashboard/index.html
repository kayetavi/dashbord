<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>API 571 / 581 Dashboard</title>
  <link rel="stylesheet" href="dashboard.css" />
</head>
<body>

<!-- TOP HEADER -->
<div class="topbar">
  <div class="logo">Welcome <b id="userEmail">User</b></div>
  <button id="logoutBtn">Logout</button>
</div>

<div class="layout">

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <h3>Features</h3>
    <input type="text" placeholder="Search..." />

    <div class="menu">
      <!-- DAMAGE -->
      <button id="btn-damage">Damage Mechanism</button>
      <ul>
        <li id="li-criteria">Criteria of Finding Damage</li>
        <li id="li-corrosion">Corrosion Rate Estimator</li>
        <li id="li-fluid">Representative Fluid</li>
        <li id="li-inventory">Inventory Calculator</li>
      </ul>

      <!-- THICKNESS -->
      <button id="btn-thickness">Thickness Analysis</button>
      <ul>
        <li id="li-stat">Statistical Analysis</li>
      </ul>

      <!-- DESIGN -->
      <button id="btn-design">Design Thickness</button>
      <ul>
        <li id="li-piping">Process Piping</li>
        <li id="li-vessel">Pressure Vessel</li>
      </ul>
    </div>
  </aside>

  <!-- MAIN CONTENT -->
  <main class="content">

    <!-- BANNER -->
    <div class="banner">
      <h2>API 571 / 581 Dashboard</h2>
      <p>Damage Mechanism – RBI Methodology</p>
    </div>

    <!-- DEFAULT DASHBOARD -->
    <div id="section-default" class="section active">
      <div class="cards">
        <div class="card blue">
          <h4>API 571</h4>
          <p>Explore over 60 damage mechanisms affecting pressure equipment.</p>
        </div>

        <div class="card green">
          <h4>API 581</h4>
          <p>Calculate corrosion rates for CUI, CO₂, sulfidation.</p>
        </div>

        <div class="card purple">
          <h4>Find Mechanism</h4>
          <p>Identify potential damage mechanisms using smart rules.</p>
        </div>

        <div class="card navy">
          <h4>Representative Fluids</h4>
          <p>Built-in fluid library for risk and consequence analysis.</p>
        </div>

        <div class="card navy">
          <h4>Inventory Calculator</h4>
          <p>Estimate release mass and leak rates as per API 581.</p>
        </div>
      </div>
    </div>

    <!-- ===== DAMAGE MECHANISM SECTIONS ===== -->

    <div id="section-damage" class="section">
      <h3>Damage Mechanism</h3>
      <p>Select a sub-feature from the sidebar.</p>
    </div>

    <div id="section-criteria" class="section">
      <h3>Criteria of Finding Damage (API 571)</h3>

      <form id="damageForm">
        <label>Material</label>
        <select id="material">
          <option>Carbon Steel</option>
          <option>Low Alloy Steel</option>
          <option>Stainless Steel</option>
        </select>

        <label>Operating Temperature (°C)</label>
        <input type="number" id="temp" />

        <label>Environment</label>
        <select id="env">
          <option value="WET H2S">Wet H2S</option>
          <option value="CO2">CO₂</option>
          <option value="HIGH TEMPERATURE SULFIDATION">High Temperature Sulfidation</option>
        </select>

        <button type="submit">Find Damage Mechanism</button>
      </form>

      <div id="damageResult"></div>
    </div>

    <div id="section-corrosion" class="section">
      <h3>Corrosion Rate Estimator</h3>
      <p>API 581 corrosion equations will be implemented here.</p>
    </div>

    <div id="section-fluid" class="section">
      <h3>Representative Fluid</h3>
      <p>Fluid selection and properties database.</p>
    </div>

    <div id="section-inventory" class="section">
      <h3>Inventory Calculator</h3>
      <p>Mass & release calculations as per API 581.</p>
    </div>

    <!-- ===== THICKNESS ===== -->

    <div id="section-thickness" class="section">
      <h3>Thickness Analysis</h3>
    </div>

    <div id="section-stat" class="section">
      <h3>Statistical Thickness Analysis</h3>
      <p>Min / Avg / Corrosion allowance logic.</p>
    </div>

    <!-- ===== DESIGN ===== -->

    <div id="section-design" class="section">
      <h3>Design Thickness</h3>
    </div>

    <div id="section-piping" class="section">
      <h3>Process Piping Design Thickness</h3>
    </div>

    <div id="section-vessel" class="section">
      <h3>Pressure Vessel Design Thickness</h3>
    </div>

  </main>
</div>

<!-- JS FILES -->
<script type="module" src="dashboard-auth.js"></script>
<script src="sidebar.js"></script>
<script type="module" src="api571.js"></script>

</body>
</html>
